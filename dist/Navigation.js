'use strict';var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var Navigation=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=b.menuId,d=void 0===c?'main-menu':c,e=b.fontFamily,f=void 0===e?'Font Awesome 5 Free':e,g=b.chevronDown,h=void 0===g?'\\f078':g,i=b.chevronUp,j=void 0===i?'\\f077':i;_classCallCheck(this,a),this.chevronDown=h,this.chevronUp=j,this.fontFamilies=['FontAwesome','Font Awesome 5 Free','Glyphicons Halflings'],this.fontFamily=f,this.hasNestedSubmenu=!1,this.menu=null,this.menuId=d}return _createClass(a,[{key:'chevronSwitcher',value:function c(a){if('button'===a.localName){var b=a.children[0];'true'==a.getAttribute('aria-expanded')?(b.setAttribute('data-before',this.chevronDown),a.setAttribute('aria-expanded','false')):(b.setAttribute('data-before',this.chevronUp),a.setAttribute('aria-expanded','true'))}}},{key:'clickHandler',value:function d(a){var b=a.target;'span'==b.localName&&(b=b.parentElement);var c=b.nextSibling;this.hasNestedSubmenu=!!c.getElementsByTagName('ul').length,b.getAttribute('aria-haspopup')&&(b.classList.contains('submenu-toggle')?a.preventDefault():null,c.classList.toggle('submenu-list-open'),b.setAttribute('aria-expanded','true'),c.classList.contains('submenu-list-open')?null:b.setAttribute('aria-expanded','false'))}},{key:'focusInHandler',value:function f(a){var b=a.target,c=b.offsetParent.parentNode;if(!(c!==this.menu&&c.contains(b))){var d=c.querySelectorAll('[aria-expanded="true"]'),e=c.getElementsByClassName('submenu-list-open');d.length&&(e[0].classList.remove('submenu-list-open'),this.chevronSwitcher(d[0]))}}},{key:'keyDownHandler',value:function g(a){var b=a.keyCode,c=a.target,d=c.offsetParent.parentNode,e=d.querySelectorAll('[aria-expanded="true"]')[0],f=d.getElementsByClassName('submenu-list-open')[0];27===b&&f&&(this.chevronSwitcher(e),f.classList.remove('submenu-list-open'))}},{key:'hoverHandler',value:function d(a){var b=a.type,c=a.target;'mouseout'===b&&'true'===c.getAttribute('aria-haspopup')?c.setAttribute('aria-expanded','false'):'mouseover'===b&&'false'===c.getAttribute('aria-haspopup')&&c.setAttribute('aria-expanded','true')}},{key:'eventDispatcher',value:function b(a){switch(a.type){case'click':this.clickHandler(a);break;case'focusin':this.focusInHandler(a);break;case'keydown':this.keyDownHandler(a);break;case'mouseover':case'mouseout':this.hoverHandler(a);break;default:}}},{key:'setEventListeners',value:function e(){var a=this,b=Array.prototype.slice.call(this.menu.getElementsByClassName('no-js'));b.forEach(function(a){a.classList.remove('no-js')});for(var c=['click','focusin','keydown','mouseout','mouseover'],d=0;d<c.length;d++)this.menu.addEventListener(c[d],function(b){a.eventDispatcher(b)})}},{key:'setSubmenuIcon',value:function f(){var a=this,b=this.fontFamily;this.fontFamilies.includes(b)||(b='');var c=this.menu.querySelectorAll('.submenu-icon'),d='\n      nav ul li span::before {\n        content: \''+this.chevronDown+'\';\n        font-family: \''+b+'\';\n        font-weight: bold;\n      }\n      nav ul.click-menu li > button[aria-expanded="true"] span::before,\n      nav ul.hover-menu li:hover > button span::before,\n      nav ul li:focus > button span::before { \n        content: \''+this.chevronUp+'\';\n        font-family: \''+b+'\'; \n        font-weight: bold;\n      }',e=document.createElement('style');e.styleSheet?e.styleSheet.cssText=d:e.appendChild(document.createTextNode(d)),document.getElementsByTagName('head')[0].appendChild(e),c.forEach(function(b){b.setAttribute('data-before',a.chevronDown)})}},{key:'init',value:function a(){this.menu=document.getElementById(this.menuId),this.setEventListeners(),this.setSubmenuIcon()}}]),a}();
//# sourceMappingURL=Navigation.js.map