class Navigation{constructor({menuId:e="main-menu",fontFamily:t="Font Awesome 5 Free",chevronDown:n="\\f078",chevronUp:s="\\f077"}={}){this.chevronDown=n,this.chevronUp=s,this.fontFamilies=["FontAwesome","Font Awesome 5 Free","Glyphicons Halflings"],this.fontFamily=t,this.hasNestedSubmenu=!1,this.menu=null,this.menuId=e}chevronSwitcher(e){if("button"!==e.localName)return;const t=e.children[0];"true"===e.getAttribute("aria-expanded")?t.setAttribute("data-before",this.chevronUp):t.setAttribute("data-before",this.chevronDown)}clickHandler(e){const t=e.target,n=t.nextSibling;n.getElementsByTagName("ul").length?this.hasNestedSubmenu=!0:this.hasNestedSubmenu=!1,t.getAttribute("aria-haspopup")&&("submenu-toggle"===t.className&&e.preventDefault(),n.classList.toggle("submenu-list-open"),t.setAttribute("aria-expanded","true"),!n.classList.contains("submenu-list-open")&&t.setAttribute("aria-expanded","false"),t.children&&this.chevronSwitcher(t))}focusInHandler(e){const{target:t,relatedTarget:n}=e,{parentNode:s,offsetParent:a}=t,i=a.parentNode;if(i===this.menu||!i.contains(t)){const e=i.querySelectorAll('[aria-expanded="true"]'),t=i.getElementsByClassName("submenu-list-open");e.length&&(e[0].setAttribute("aria-expanded","false"),t[0].classList.remove("submenu-list-open"),this.chevronSwitcher(e[0]))}}hoverHandler(e){const{type:t,target:n}=e;"mouseout"===t&&"true"===n.getAttribute("aria-haspopup")?n.setAttribute("aria-expanded","false"):"mouseover"===t&&"false"===n.getAttribute("aria-haspopup")&&n.setAttribute("aria-expanded","true"),n.children.length>0&&this.chevronSwitcher(n)}eventDispatcher(e){switch(e.type){case"click":this.clickHandler(e);break;case"focusin":this.focusInHandler(e);break;case"mouseover":case"mouseout":this.hoverHandler(e);break;default:return}}setEventListeners(){Array.prototype.slice.call(this.menu.getElementsByClassName("no-js")).forEach(e=>{e.classList.remove("no-js")});const e=["click","focusin","mouseout","mouseover"];for(let t=0;t<e.length;t++)this.menu.addEventListener(e[t],e=>{this.eventDispatcher(e)})}setSubmenuIcon(){let e=this.fontFamily;this.fontFamilies.includes(e)||(e="");const t=this.menu.querySelectorAll(".submenu-icon"),n=`\n      nav ul li span::before {\n        content: '${this.chevronDown}';\n        font-family: '${e}';\n        font-weight: bold;\n      }\n      nav ul li:hover > button span::before,\n      nav ul li:focus > button span::before { \n        content: '${this.chevronUp}';\n        font-family: '${e}'; \n        font-weight: bold;\n      }`,s=document.createElement("style");s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n)),document.getElementsByTagName("head")[0].appendChild(s),t.forEach(e=>{e.setAttribute("data-before",this.chevronDown)})}init(){this.menu=document.getElementById(this.menuId),this.setEventListeners(),this.setSubmenuIcon()}}
//# sourceMappingURL=Navigation.js.map
